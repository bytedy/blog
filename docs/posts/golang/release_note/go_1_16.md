---
title: Go 1.16 新特性
date: 2024-08-09 20:00:00
hidden: true
categories:
- GO
---
# Go 1.16 新特性：Go embed


在以前，很多从其他语言转过来 Go 语言的同学会问到，或是踩到一个坑。就是以为 Go 语言所打包的二进制文件中会包含配置文件的联同编译和打包。

结果往往一把二进制文件挪来挪去，就无法把应用程序运行起来了。因为无法读取到静态文件的资源。

无法将静态资源编译打包进二进制文件的话，通常会有两种解决方法：

* 第一种是识别这类静态资源，是否需要跟着程序走。
* 第二种就是考虑将其打包进二进制文件中。

第二种情况的话，Go 以前是不支持的，大家就会去借助各种花式的开源库，例如：go-bindata/go-bindata 来实现。

但从在 Go1.16 起，Go 语言自身正式支持了该项特性，通过这篇文章快速了解和学习这项特性。

```Go
import _ "embed"

//go:embed hello.txt
var s string

func main() {
    print(s)
}

// 结果
Hello
```

注解的格式很简单，就是 `go:embed` 指令声明，外加读取的内容的地址，可支持相对和绝对路径。